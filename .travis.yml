language: python
python:
  - "3.4"
install:
  - pip install flake8
  - pip install boto
  - pip install stups-pierone
script:
  - flake8 -v .
  - tests/shell_syntax_check.sh
  - python3 -m doctest -v runtime/usr/local/lib/python3.4/dist-packages/taupage/__init__.py
  - PYTHONPATH=runtime/usr/local/lib/python3.4/dist-packages python3 -m doctest -v runtime/opt/taupage/runtime/Docker.py
  - PYTHONPATH=runtime/usr/local/lib/python3.4/dist-packages python3 -m doctest -v runtime/opt/taupage/init.d/03-push-taupage-yaml.py
  - PYTHONPATH=runtime/usr/local/lib/python3.4/dist-packages python3 -m doctest -v runtime/opt/taupage/init.d/10-prepare-disks.py
  - PYTHONPATH=runtime/usr/local/lib/python3.4/dist-packages python3 -m doctest -v runtime/opt/taupage/bin/push-audit-logs.py
  - PYTHONPATH=runtime/usr/local/lib/python3.4/dist-packages:runtime/opt/taupage/healthcheck python3 tests/python/test_elbHealthChecker.py
